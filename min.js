w=130;c.width=c.height=w*5;M=Math;R=M.random;function A(){return R()-0.5}P=parseInt;T=a.createImageData(w*5,w*5);D=T.data;function z(h,e,n){var l=h[0]+e;var k=h[1]+n;return l*l+k*k+h[2]*h[2]<1}m=i=I=j=L=x=y=r=g=b=p=v=d=q=0;f=[];for(;q<w*w*3;){f[q++]=0}B=function(){for(L=0;L++<w*10;){x=q%w/w;y=(q-q%w)/w/w;p=[0,0,-3.5];v=[(0.5-(x+R()/w))*0.03,(0.5-(y+R()/w))*0.03,0.03];r=g=b=0;d=1;for(I=0;I++<400;){for(i=0;i<3;){p[i]+=v[i++]*(1-R()/2)}if(R()<0.003){for(i=0;i<3;){v[i++]+=A()*0.01}}x=0.7*(p[0]);y=0.7*(p[2]-1);i=0.7*(p[1]+0.3);j=x*x+9/4*y*y+i*i-1;j*=j*j;j-=x*x*i*i*i+9/80*y*y*i*i*i;if(j<0){v=[A()/10,A()/10,A()/10];d=0.5}if(z(p,2.5,1)){g=2;b=3;r=3;break}if(z(p,-2.5,1)){r=3;break}if(z(p,0,-2.5)||z(p,0,3)){g=b=2;r=3;break}}j=M.max(0,v[1]*27);f[q*3]+=r+j*1.5;f[q*3+1]+=d*g+j;f[q*3+2]+=d*b+j;q=(++m)%(w*w)}I=M.ceil(m/w/w)/255;for(x=0;x<w*5;x++){for(y=0;y<w*5;){i=(P(x/5)+P(y/5)*w);j=(x+ +y++*w*5)*4;if(i>q&&q!=0){break}for(L=0;L<3;){D[j+L]=f[i*3+L++]/I}D[j+3]=255}}a.putImageData(T,0,0);setTimeout("B()",5)};B();